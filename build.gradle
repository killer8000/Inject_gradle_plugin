apply plugin: 'groovy'
apply plugin: 'maven'

version = '1.0.3'
group = 'com.inject.ndh'
archivesBaseName = 'inject'

repositories {
    mavenCentral()
}

dependencies {
    compile gradleApi()
    compile localGroovy()
//    compile files('libs/proguard.jar')
//     compile files('lib/javassist-3.18.1-GA.jar')
    compile 'org.javassist:javassist:3.18.+'


}

// 一定要记得使用交叉编译选项，因为我们可能用很高的JDK版本编译，为了让安装了低版本的同学能用上我们写的插件，必须设定source和target
compileGroovy {
    sourceCompatibility = 1.7
    targetCompatibility = 1.7
    options.encoding = "UTF-8"
}

uploadArchives {
    repositories.mavenDeployer {
// 如果你公司或者自己搭了nexus私服，那么可以将插件deploy到上面去
//        repository(url: "http://10.XXX.XXX.XXX:8080/nexus/content/repositories/releases/") {
//            authentication(userName: "admin", password: "admin")
//        }
// 如果没有私服的话，发布到本地也是ok的
        repository(url: 'file:/Users/ndh/Desktop/mm/mm')
    }
}
